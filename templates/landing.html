<!DOCTYPE html>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var fileTag = document.getElementById("imageUpload");
    console.log("test")
    fileTag.addEventListener("change", function () {
      addToLocalStorage(this);
    });

    function addToLocalStorage(input) {
      if (input.files && input.files[0]) {
        var stringed = JSON.stringify(input.files[0])
        console.log(input.files[0].toDataURL("image/jpg"))

        localStorage.setItem("imageInput", stringed);
        console.log("Added Image");

      }
    }
  });

</script>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Page Title</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body>
  <div class="p-5 mb-4 bg-light rounded-3">
    <div class="container-fluid py-5">
      <h1 class="display-5 fw-bold">Welcome to dispo.ly</h1>

      <p class="col-md-8 fs-4">In today's world with diffrent methods of disposing garbage it is tough to decide what is
        the best way of disposing of it. Dispo.ly helps you with that decision and determines what is the best way for an item to be disposed. </p>
    </div>
    <form class="btn btn-success" action="http://localhost:5000/compost">
      <input class="btn btn-success" type="submit" value="Let's try it out" />
    </form>
  </div>

  <script>
    var fileInput = document.getElementById("imageUpload")
    var confirmButton = document.getElementById("imageSubmitButton")

    fileInput.addEventListener("change", function () {
      changeImage(this)
    })

    function changeImage(input) {
      var reader;

      if (input.files && input.files[0]) {
        reader = new FileReader();

        reader.onload = function (e) {
          preview.setAttribute('src', e.target.result);
        }

        reader.readAsDataURL();
      }
    }
  </script>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
    integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
    crossorigin="anonymous"></script>
</body>

</html>